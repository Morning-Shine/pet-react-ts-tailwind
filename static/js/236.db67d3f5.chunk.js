"use strict";(self.webpackChunkpet_react_ts_tailwind=self.webpackChunkpet_react_ts_tailwind||[]).push([[236],{4583:function(e,t,n){n(2791);var r=n(6208),a=n(71),c=n(6856),s=n(203),o=n(184);t.Z=function(e){var t,n=e.msg,i=e.size;switch(e.type){case"warning":t=(0,o.jsx)(a.OvZ,{});break;case"error":t=(0,o.jsx)(c.vVM,{});break;case"info":t=(0,o.jsx)(s.EQK,{})}return(0,o.jsxs)("article",{className:"flex grow align-middle justify-center text-".concat(i),children:[(0,o.jsx)("p",{className:"text-".concat(r.$,"-700 dark:text-").concat(r.$,"-500 place-self-center h-min pr-1"),children:t}),(0,o.jsx)("p",{className:"text-".concat(r.D,"-700 dark:text-").concat(r.D,"-300 \n        h-min place-self-center"),children:n})]})}},4081:function(e,t,n){n(2791);var r=n(6208),a=n(184);t.Z=function(e){var t=e.pageSizes,n=e.pageSize,c=e.onChange;return(0,a.jsx)("div",{className:"h-20 py-4 flex items-center",children:(0,a.jsxs)("label",{className:"flex justify-between place-items-center space-x-1",children:[(0,a.jsx)("p",{className:"text-lg text-".concat(r.D,"-900 dark:text-").concat(r.D,"-300"),children:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435:"}),(0,a.jsx)("select",{defaultValue:n,className:"max-h-7 w-10 text-center px-2 focus:outline-none appearance-none\n          dark:bg-".concat(r.$,"-700\n          rounded-sm border-2 border-").concat(r.$,"-600 dark:border-").concat(r.$,"-700\n          text-").concat(r.D,"-900 dark:text-").concat(r.D,"-300 cursor-pointer"),onChange:function(e){return c(e)},children:t.map((function(e){return(0,a.jsx)("option",{className:"text-".concat(r.D,"-900 dark:text-").concat(r.D,"-300"),children:e},e)}))})]})})}},218:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(2791),a=n(6208),c=n(1694),s=n.n(c),o=n(184),i=function(e){var t=e.page,n=e.isCurrentPage,r=e.changePage;return(0,o.jsx)("div",{className:s()("h-7 w-7 min-w-min text-center\n      rounded-sm border-2 border-".concat(a.$,"-600 dark:border-").concat(a.$,"-700\n      text-").concat(a.D,"-900 dark:text-").concat(a.D,"-300"),n?"bg-".concat(a.$,"-600 dark:bg-").concat(a.$,"-700"):"cursor-pointer \n            hover:bg-".concat(a.$,"-500 hover:dark:bg-").concat(a.$,"-600 \n      ")),onClick:n?void 0:function(){return r(t)},children:t})},l=n(9439),d=n(6856),u=n(9493),x=function(e){var t=e.pages,n=e.currentPage,c=e.changePage,s=(0,r.useState)(t.slice(0,u.Yq)),x=(0,l.Z)(s,2),f=x[0],h=x[1],m=(0,r.useState)(!0),g=(0,l.Z)(m,2),p=g[0],j=g[1],v=t[t.length-1];return(0,r.useEffect)((function(){h(t.slice(0,u.Yq)),j(!0)}),[t.length]),(0,o.jsxs)("div",{className:"flex space-x-1",children:[f.map((function(e){return(0,o.jsx)(i,{page:e,isCurrentPage:n===e,changePage:c},e)})),(0,o.jsxs)("div",{className:"flex space-x-1 px-2",children:[p&&(0,o.jsx)("div",{className:"h-7 w-7 cursor-pointer flex items-center justify-center\n                        rounded-sm border-2 border-".concat(a.$,"-600 dark:border-").concat(a.$,"-700\n                        text-").concat(a.D,"-900 dark:text-").concat(a.D,"-300"),onClick:function(){var e=[],n=f[f.length-1],r=n+u.Yq,a=t[t.findIndex((function(e){return e===n}))];if(r<=v)for(var s=a;s<a+u.Yq;s++)e.push(t[s]);else for(var o=a;o<t[t.length-1];o++)e.push(t[o]);r>=v&&j(!1),h(e),c(e[0])},children:(0,o.jsx)(d.ykb,{})}),1!==f[0]&&(0,o.jsx)("div",{className:"h-7 w-7 cursor-pointer flex items-center justify-center\n                        rounded-sm border-2 border-".concat(a.$,"-600 dark:border-").concat(a.$,"-700\n                        text-").concat(a.D,"-900 dark:text-").concat(a.D,"-300"),onClick:function(){for(var e=[],n=t.findIndex((function(e){return e===f[0]})),r=0;r<u.Yq;r++){var a=t[n-1-r];e.push(a)}p||j(!0),c(e[0]),h(e.reverse())},children:(0,o.jsx)(d.obO,{})})]}),f[f.length-1]!==v&&(0,o.jsx)(i,{page:v,isCurrentPage:n===v,changePage:c},v)]})},f=function(e){for(var t=e.totalPages,n=e.changePage,r=e.currentPage,a=[],c=1;c<=t;c++)a.push(c);return 0!==t?(0,o.jsx)("div",{className:"flex space-x-1 items-center",children:a.length<=7?a.map((function(e){return(0,o.jsx)(i,{page:e,isCurrentPage:r===e,changePage:n},e)})):(0,o.jsx)(x,{pages:a,currentPage:r,changePage:n})}):(0,o.jsx)("div",{})}},5581:function(e,t,n){n.d(t,{S:function(){return r}});var r="\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443: \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."},7236:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n(9439),a=n(2791),c=n(4951),s=n(3355),o=n(6208),i=n(3416),l=n(184),d=function(e){var t={height:0};switch(e.size){case"xs":t.height=16;break;case"md":t.height=36}return(0,l.jsx)("div",{className:"rounded h-".concat(t.height," w-full border-2\n    flex items-center justify-center \n    border-").concat(o.$,"-600 dark:border-").concat(o.$,"-700"),children:(0,l.jsx)("p",{className:"text-4xl text-center align-middle\n      text-".concat(o.$,"-600 dark:text-").concat(o.$,"-700"),children:"?"})})},u=n(3821),x=n(1087),f=function(e){for(var t=e.album,n=(0,c.zW)({id:t.id,limit:4}).data,r=(0,u.Fk)({id:t.userId}).data,a=[],s=0;s<4;s++)a.push(s);return(0,l.jsxs)("div",{className:"max-w-md flex flex-col justify-between border rounded border-".concat(o.D,"-200 dark:border-").concat(o.D,"-500 m-2 px-4 py-2"),children:[(0,l.jsx)("p",{className:"dark:text-".concat(o.D,"-100 truncate"),id:"albumId-".concat(t.id),children:t.title}),(0,l.jsx)("hr",{className:"mb-2"}),(0,l.jsx)(x.rU,{className:"grid grid-rows-2 grid-cols-2 gap-2 justify-items-center",to:"".concat(t.id),state:{albumName:t.title},children:n&&n.length?n.map((function(e){return(0,l.jsx)("img",{src:e.thumbnailUrl,alt:e.title,className:"rounded-md h-16 w-full object-cover"},e.id)})):a.map((function(e){return(0,l.jsx)(d,{size:"xs"},e)}))}),(0,l.jsxs)("div",{className:"mt-1 flex justify-between",children:[(0,l.jsx)("p",{className:"dark:text-".concat(o.D,"-100 truncate"),children:"\u0430\u0432\u0442\u043e\u0440:"}),(0,l.jsx)("p",{className:"dark:text-".concat(o.D,"-100 truncate"),children:null!==r&&void 0!==r&&r.username?r.username:"\u043d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"})]}),(0,l.jsx)(i.u,{anchorSelect:"#albumId-".concat(t.id),content:t.title,place:"bottom",className:"dark:bg-".concat(o.D,"-500")})]})},h=n(4081),m=n(218),g=n(3258),p=n(4583),j=n(7878),v=n(3246),b=n(9493),k=n(5581),N=function(e){var t=e.filteredUserId,n=e.changeUserHandler,r=(0,u.zQ)(),a=r.data,c=r.isFetching;return(0,l.jsx)("div",{className:"h-7 flex grow md:grow-0",children:!!a&&!c&&(0,l.jsx)("select",{value:t,onChange:function(e){return n(+e.target.value)},className:"px-2 focus:outline-none w-full\n                      bg-".concat(o.D,"-50 dark:bg-").concat(o.$,"-900 \n                      dark:text-").concat(o.D,"-200\n                      rounded-sm border border-").concat(o.D,"-200 dark:border-").concat(o.$,"-500 \n                      "),children:a.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("option",{disabled:!0,hidden:!0,value:"",className:"disabled:text-".concat(o.$,"-100\n                            disabled:dark:text-").concat(o.D,"-100"),children:"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),a.map((function(e){return(0,l.jsx)("option",{value:e.id,className:"text-".concat(o.D,"-700 dark:text-").concat(o.D,"-200"),children:e.username},e.id)}))]}):(0,l.jsx)("option",{disabled:!0,selected:!0,children:"\u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"})})})},y=n(9129),w=function(e){var t=e.filteredUserId,n=e.changeUserHandler;return(0,l.jsxs)("div",{className:"flex items-center\r justify-stretch md:justify-normal",children:[(0,l.jsx)(N,{filteredUserId:t,changeUserHandler:n}),(0,l.jsx)("div",{className:"text-xl ml-2\n                    text-".concat(o.D,"-600 dark:text-").concat(o.$,"-600\n                    hover:text-red-600 dark:hover:text-red-800\n                    cursor-pointer"),children:(0,l.jsx)(y.Rjp,{onClick:function(){return n("")}})})]})},D=function(){var e,t=(0,s.C)((function(e){return e.pageSizes.albums})),n=(0,s.C)((function(e){return e.albums.page})),o=(0,s.C)((function(e){return e.albums.pagesTotal})),i=(0,a.useState)(""),d=(0,r.Z)(i,2),u=d[0],x=d[1],N={_limit:t.toString(),_page:n.toString()};""!==u&&(N.userId=u.toString());var y=new URLSearchParams(N).toString(),D=(0,c.Mu)(y,{refetchOnMountOrArgChange:!0}),$=D.data,C=D.isFetching,P=(0,s.T)();(0,a.useEffect)((function(){var e;if(null!==$&&void 0!==$&&null!==(e=$.headers)&&void 0!==e&&e.xTotalCount){var n=+$.headers.xTotalCount/t;P((0,j.h3)(n))}return function(){P((0,j.h3)(0))}}),[$,P,t]);return(0,l.jsxs)("section",{className:"w-4/5 mx-auto flex flex-col grow",children:[(0,l.jsx)("div",{className:"my-6",children:(0,l.jsx)(w,{filteredUserId:u,changeUserHandler:function(e){return x(e)}})}),(0,l.jsxs)("div",{className:"flex flex-col justify-between grow",children:[C&&(0,l.jsx)(g.Z,{}),!C&&!(null===$||void 0===$||!$.data)&&(null!==$&&void 0!==$&&null!==(e=$.data)&&void 0!==e&&e.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"grid grid-cols-grid-cards gap-3 py-6",children:$.data.map((function(e){return(0,l.jsx)(f,{album:e},e.id)}))}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between lg:space-x-3",children:[(0,l.jsx)(m.Z,{totalPages:o,changePage:function(e){return P((0,j.oO)(e))},currentPage:n}),(0,l.jsx)(h.Z,{pageSizes:b.QW,pageSize:t,onChange:function(e){var t=+e.target.value;P((0,v.si)(t)),P((0,j.oO)(1))}})]})]}):(0,l.jsx)(p.Z,{msg:k.S,size:"xl",type:"error"}))]})]})}},4951:function(e,t,n){n.d(t,{Mu:function(){return a},zW:function(){return c}});var r=n(9209).h.injectEndpoints({endpoints:function(e){return{getAlbums:e.query({query:function(e){return{url:e?"/albums?".concat(e):"/albums",method:"GET"}},transformResponse:function(e,t){var n;return{data:e,headers:{xTotalCount:null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.headers.get("X-Total-Count")}}},providesTags:["Albums"]}),getAlbumPhoto:e.query({query:function(e){var t=e.id,n=e.limit;return{url:n?"/albums/".concat(t,"/photos?_limit=").concat(n):"/albums/".concat(t,"/photos"),method:"GET"}}})}}}),a=r.useGetAlbumsQuery,c=r.useGetAlbumPhotoQuery},3821:function(e,t,n){n.d(t,{Fk:function(){return c},zQ:function(){return a}});var r=n(9209).h.injectEndpoints({endpoints:function(e){return{getUsers:e.query({query:function(){return{url:"/users",method:"GET"}},providesTags:["Users"]}),getUserById:e.query({query:function(e){var t=e.id;return{url:"/users/".concat(t),method:"GET"}},providesTags:["Users"]})}}}),a=r.useGetUsersQuery,c=r.useGetUserByIdQuery}}]);
//# sourceMappingURL=236.db67d3f5.chunk.js.map